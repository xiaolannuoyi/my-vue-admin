{"version":3,"sources":["webpack:///./node_modules/codemirror/addon/hint/xml-hint.js","webpack:///./node_modules/codemirror/addon/selection/active-line.js","webpack:///./node_modules/codemirror/addon/edit/matchbrackets.js","webpack:///./node_modules/codemirror/addon/hint/show-hint.js","webpack:///./src/views/components-demo/vue-codemirror/index.vue?9572","webpack:///src/views/components-demo/vue-codemirror/index.vue","webpack:///./src/views/components-demo/vue-codemirror/index.vue?6aff","webpack:///./src/views/components-demo/vue-codemirror/index.vue?1926","webpack:///./src/views/components-demo/vue-codemirror/index.vue?8f8c","webpack:///./node_modules/codemirror/mode/xml/xml.js"],"names":["mod","CodeMirror","Pos","matches","hint","typed","matchInMiddle","indexOf","lastIndexOf","getHints","cm","options","tags","schemaInfo","quote","quoteChar","cur","getCursor","token","getTokenAt","end","ch","string","slice","start","inner","innerMode","getMode","state","mode","xmlCurrentTag","prefix","tagStart","result","replaceToken","tag","test","type","tagName","before","getLine","line","Math","max","tagType","tagInfo","context","xmlCurrentContext","curTag","length","childList","children","i","push","name","hasOwnProperty","attrs","globalAttrs","set","nm","getRange","atValues","atName","match","call","this","n","charAt","len","substr","attr","list","from","to","registerHelper","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","clearActiveLines","activeLines","removeLineClass","sameArray","a","b","updateActiveLines","ranges","active","range","option","getOption","nonEmpty","anchor","head","empty","getLineHandleVisualStart","operation","addLineClass","selectionChange","sel","defineOption","val","old","prev","Init","off","listSelections","on","ie_lt8","navigator","userAgent","document","documentMode","matching","bracketRegex","config","findMatchingBracket","where","getLineHandle","pos","afterCursor","getWrapperElement","className","re","text","dir","strict","style","getTokenTypeAt","found","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","lineEnd","min","lastLine","firstLine","lineNo","undefined","pop","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","markText","focused","focus","clear","setTimeout","doMatchBrackets","currentlyHighlighted","defineExtension","oldConfig","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","widget","debounce","tick","startPos","startLen","getSelection","self","activityFunc","cursorActivity","showHint","async","newOpts","prop","parseOptions","selections","somethingSelected","supportsSelection","completionActive","close","completion","signal","update","requestAnimationFrame","window","fn","cancelAnimationFrame","clearTimeout","editor","hintOptions","out","defaultOptions","resolve","getText","buildKeyMap","handle","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","mac","platform","custom","customKeys","ourMap","addBinding","key","bound","extra","extraKeys","getHintElement","hintsElement","el","nodeName","toUpperCase","parentNode","Widget","data","picked","ownerDocument","getInputField","parentWindow","defaultView","hints","createElement","theme","selectedHint","completions","elt","appendChild","render","createTextNode","displayText","hintId","container","body","cursorCoords","alignWithWord","left","top","bottom","below","offsetLeft","offsetTop","isContainerPositioned","getComputedStyle","position","offsetParent","offsetParentPosition","getBoundingClientRect","bodyPosition","scrollLeft","scrollTop","winW","innerWidth","offsetWidth","documentElement","winH","innerHeight","offsetHeight","box","overlapY","scrolls","scrollHeight","clientHeight","startScroll","getScrollInfo","height","curTop","cursor","closingOnBlur","overlapX","right","width","node","firstChild","nextSibling","paddingRight","display","nativeBarWidth","addKeyMap","keyMap","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onBlur","onFocus","onScroll","curScroll","newTop","point","pageYOffset","e","t","target","srcElement","completeOnSingleClick","childNodes","applicableHelpers","helpers","fetchHints","callback","then","resolveAutoHints","words","getHelpers","resolved","app","run","getHelper","fromList","anyword","prototype","replaceRange","closeCharacters","disable","first","myTick","finishUpdate","completeSingle","removeChild","removeKeyMap","replace","floor","term","word","commands","autocomplete","auto","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","ref","domProps","$event","composing","staticRenderFns","jsonEditor","methods","completeAfter","pred","completeIfAfterLt","completeIfInTag","tok","mounted","color","size","description","id","class","lang","freeform","animal","isduck","plant","wings","dummy","feet","tail","leaves","stem","flowers","lineNumbers","component","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","defineMode","editorConf","config_","setStyle","indentUnit","defaults","htmlMode","inText","stream","chain","parser","tokenize","ok","next","eat","inBlock","eatWhile","doctype","inTag","baseState","inAttribute","stringStartCol","column","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","indent","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","current","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","isInText","startState","baseIndent","sol","indentation","eatSpace","textAfter","fullLine","Pass","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","blockCommentStart","blockCommentEnd","configuration","helperType","skipAttribute","cx","reverse","defineMIME","mimeModes"],"mappings":"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","file":"js/chunk-77e08410.33b1a303.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function matches(hint, typed, matchInMiddle) {\n    if (matchInMiddle) return hint.indexOf(typed) >= 0;\n    else return hint.lastIndexOf(typed, 0) == 0;\n  }\n\n  function getHints(cm, options) {\n    var tags = options && options.schemaInfo;\n    var quote = (options && options.quoteChar) || '\"';\n    var matchInMiddle = options && options.matchInMiddle;\n    if (!tags) return;\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n    var inner = CodeMirror.innerMode(cm.getMode(), token.state);\n    if (!inner.mode.xmlCurrentTag) return\n    var result = [], replaceToken = false, prefix;\n    var tag = /\\btag\\b/.test(token.type) && !/>$/.test(token.string);\n    var tagName = tag && /^\\w/.test(token.string), tagStart;\n\n    if (tagName) {\n      var before = cm.getLine(cur.line).slice(Math.max(0, token.start - 2), token.start);\n      var tagType = /<\\/$/.test(before) ? \"close\" : /<$/.test(before) ? \"open\" : null;\n      if (tagType) tagStart = token.start - (tagType == \"close\" ? 2 : 1);\n    } else if (tag && token.string == \"<\") {\n      tagType = \"open\";\n    } else if (tag && token.string == \"</\") {\n      tagType = \"close\";\n    }\n\n    var tagInfo = inner.mode.xmlCurrentTag(inner.state)\n    if (!tag && !tagInfo || tagType) {\n      if (tagName)\n        prefix = token.string;\n      replaceToken = tagType;\n      var context = inner.mode.xmlCurrentContext ? inner.mode.xmlCurrentContext(inner.state) : []\n      var inner = context.length && context[context.length - 1]\n      var curTag = inner && tags[inner]\n      var childList = inner ? curTag && curTag.children : tags[\"!top\"];\n      if (childList && tagType != \"close\") {\n        for (var i = 0; i < childList.length; ++i) if (!prefix || matches(childList[i], prefix, matchInMiddle))\n          result.push(\"<\" + childList[i]);\n      } else if (tagType != \"close\") {\n        for (var name in tags)\n          if (tags.hasOwnProperty(name) && name != \"!top\" && name != \"!attrs\" && (!prefix || matches(name, prefix, matchInMiddle)))\n            result.push(\"<\" + name);\n      }\n      if (inner && (!prefix || tagType == \"close\" && matches(inner, prefix, matchInMiddle)))\n        result.push(\"</\" + inner + \">\");\n    } else {\n      // Attribute completion\n      var curTag = tagInfo && tags[tagInfo.name], attrs = curTag && curTag.attrs;\n      var globalAttrs = tags[\"!attrs\"];\n      if (!attrs && !globalAttrs) return;\n      if (!attrs) {\n        attrs = globalAttrs;\n      } else if (globalAttrs) { // Combine tag-local and global attributes\n        var set = {};\n        for (var nm in globalAttrs) if (globalAttrs.hasOwnProperty(nm)) set[nm] = globalAttrs[nm];\n        for (var nm in attrs) if (attrs.hasOwnProperty(nm)) set[nm] = attrs[nm];\n        attrs = set;\n      }\n      if (token.type == \"string\" || token.string == \"=\") { // A value\n        var before = cm.getRange(Pos(cur.line, Math.max(0, cur.ch - 60)),\n                                 Pos(cur.line, token.type == \"string\" ? token.start : token.end));\n        var atName = before.match(/([^\\s\\u00a0=<>\\\"\\']+)=$/), atValues;\n        if (!atName || !attrs.hasOwnProperty(atName[1]) || !(atValues = attrs[atName[1]])) return;\n        if (typeof atValues == 'function') atValues = atValues.call(this, cm); // Functions can be used to supply values for autocomplete widget\n        if (token.type == \"string\") {\n          prefix = token.string;\n          var n = 0;\n          if (/['\"]/.test(token.string.charAt(0))) {\n            quote = token.string.charAt(0);\n            prefix = token.string.slice(1);\n            n++;\n          }\n          var len = token.string.length;\n          if (/['\"]/.test(token.string.charAt(len - 1))) {\n            quote = token.string.charAt(len - 1);\n            prefix = token.string.substr(n, len - 2);\n          }\n          if (n) { // an opening quote\n            var line = cm.getLine(cur.line);\n            if (line.length > token.end && line.charAt(token.end) == quote) token.end++; // include a closing quote\n          }\n          replaceToken = true;\n        }\n        for (var i = 0; i < atValues.length; ++i) if (!prefix || matches(atValues[i], prefix, matchInMiddle))\n          result.push(quote + atValues[i] + quote);\n      } else { // An attribute name\n        if (token.type == \"attribute\") {\n          prefix = token.string;\n          replaceToken = true;\n        }\n        for (var attr in attrs) if (attrs.hasOwnProperty(attr) && (!prefix || matches(attr, prefix, matchInMiddle)))\n          result.push(attr);\n      }\n    }\n    return {\n      list: result,\n      from: replaceToken ? Pos(cur.line, tagStart == null ? token.start : tagStart) : cur,\n      to: replaceToken ? Pos(cur.line, token.end) : cur\n    };\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"xml\", getHints);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n      // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n      var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n      var offsetParent = isContainerPositioned ? container : container.offsetParent;\n      var offsetParentPosition = offsetParent.getBoundingClientRect();\n      var bodyPosition = ownerDocument.body.getBoundingClientRect();\n      offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n      offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"textarea\",domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"json-editor\">\n    <textarea ref=\"textarea\" v-model=\"value\" />\n  </div>\n</template>\n\n<script>\nimport CodeMirror from \"codemirror\";\nimport \"codemirror/lib/codemirror.css\";\n\nimport \"codemirror/addon/lint/lint.css\"; //警告样式\nimport \"codemirror/theme/night.css\";\n\nimport \"codemirror/mode/xml/xml.js\";\n\nimport \"codemirror/addon/hint/show-hint.js\"; //hint/xml-hint.js\nimport \"codemirror/addon/hint/xml-hint.js\"; //hint/xml-hint.js\n\nimport \"codemirror/addon/selection/active-line.js\"; //高亮行\nimport \"codemirror/addon/edit/matchbrackets.js\"; //括号匹配\n\nexport default {\n  data() {\n    return {\n      jsonEditor: null,\n      value: \"\"\n    };\n  },\n  methods: {\n    completeAfter(cm, pred) {\n      var cur = cm.getCursor();\n      if (!pred || pred())\n        setTimeout(function() {\n          if (!cm.state.completionActive)\n            cm.showHint({ completeSingle: false });\n        }, 100);\n      return CodeMirror.Pass;\n    },\n    completeIfAfterLt(cm) {\n      return this.completeAfter(cm, function() {\n        var cur = cm.getCursor();\n        return cm.getRange(CodeMirror.Pos(cur.line, cur.ch - 1), cur) == \"<\";\n      });\n    },\n    completeIfInTag(cm) {\n      return this.completeAfter(cm, function() {\n        var tok = cm.getTokenAt(cm.getCursor());\n        if (\n          tok.type == \"string\" &&\n          (!/['\"]/.test(tok.string.charAt(tok.string.length - 1)) ||\n            tok.string.length == 1)\n        )\n          return false;\n        var inner = CodeMirror.innerMode(cm.getMode(), tok.state).state;\n        return inner.tagName;\n      });\n    }\n  },\n  mounted() {\n    const dummy = {\n      attrs: {\n        color: [\"red\", \"green\", \"blue\", \"purple\", \"white\", \"black\", \"yellow\"],\n        size: [\"large\", \"medium\", \"small\"],\n        description: null\n      },\n      children: []\n    };\n    const tags = {\n      \"!top\": [\"top\"],\n      \"!attrs\": {\n        id: null,\n        class: [\"A\", \"B\", \"C\"]\n      },\n      top: {\n        attrs: {\n          lang: [\"en\", \"de\", \"fr\", \"nl\"],\n          freeform: null\n        },\n        children: [\"animal\", \"plant\"]\n      },\n      animal: {\n        attrs: {\n          name: null,\n          isduck: [\"yes\", \"no\"]\n        },\n        children: [\"wings\", \"feet\", \"body\", \"head\", \"tail\"]\n      },\n      plant: {\n        attrs: { name: null },\n        children: [\"leaves\", \"stem\", \"flowers\"]\n      },\n      wings: dummy,\n      feet: dummy,\n      body: dummy,\n      head: dummy,\n      tail: dummy,\n      leaves: dummy,\n      stem: dummy,\n      flowers: dummy\n    };\n\n    this.jsonEditor = CodeMirror.fromTextArea(this.$refs.textarea, {\n      mode: \"xml\",\n      lineNumbers: true,\n      extraKeys: {\n        \"'<'\": this.completeAfter,\n        \"'/'\": this.completeIfAfterLt,\n        \"' '\": this.completeIfInTag,\n        \"'='\": this.completeIfInTag,\n        \"Ctrl-Space\": \"autocomplete\"\n      },\n      hintOptions: { schemaInfo: tags },\n\n      // gutters: [\"CodeMirror-lint-markers\"], //CodeMirror-lint-markers是实现语法报错功能\n      // theme: \"night\",\n      // lint: true, //警告\n\n      // smartIndent: true, //是否智能缩进\n      // matchBrackets: true, //括号匹配\n\n      // styleActiveLine: true, //高亮行\n      // lineNumbers: true, //行号\n      // lineWrapping: true\n    });\n  }\n};\n</script>\n\n<style scoped>\n.json-editor {\n  height: 100%;\n  position: relative;\n}\n.json-editor >>> .CodeMirror {\n  height: auto;\n  min-height: 300px;\n}\n.json-editor >>> .CodeMirror-scroll {\n  min-height: 300px;\n}\n.json-editor >>> .cm-s-rubyblue span.cm-string {\n  color: #f08047;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=349d4528&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=349d4528&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"349d4528\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=349d4528&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=349d4528&scoped=true&lang=css&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        if (cx.tagName) context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n"],"sourceRoot":""}